{% extends 'base.html' %}

{% block jumbotron %}
<header class="masthead">
    <div class="jumbotron center-align">
        <div class="container jumbotron-about">
            <h1>Spark up your appetite</h1>
            <span class="subheading">When we feel hungry but we don't know what we could make, we need some
                inspiration.
                Look through some community contributed recipes to find something for you. Avoid that takeaway
                option!</span>
        </div>
    </div>
    </div>
</header>
{% endblock %}

{% block content %}

<div class="row container">
    <div class="col s12 col-md-10 mx-auto">
        <form class="form-inline mr-auto" method="GET">
            <input name="search" class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
            <div class="input-field col s12">
                <select name="sort">
                  <option value="" disabled selected>Sort By</option>
                  <option value="recipe_name">Name</option>
                  <option value="difficulty">Difficulty</option>
                  <option value="time">Time</option>
                  <option value="serves">Serves</option>
                </select>
                <label>Materialize Select</label>
            </div>
            <button id="search_button" class="btn btn-unique blue-gradient btn-rounded btn-sm my-0" type="submit">Search</button>
        </form>
    </div>


    <div class="col s12">

        {% for recipe in recipes %}
        <div class="recipe_container">
            <div class="card horizontal">
                <div class="card-image">
                    <img src="{{recipe.recipe_image}}">
                </div>
                <div class="card-stacked">
                    <div class="card-content">
                        <a href="{{url_for('view_recipe', recipe_id=recipe._id)}}">
                            <h2 class="header">{{recipe.recipe_name}}</h2>
                        </a>
                        <p>{{recipe.description}}</p>
                        <div class="d-inline"><i class="small material-icons">access_time</i>{{recipe.prep_time + recipe.cooking_time}}</div>
                        <div class="d-inline"><i class="small material-icons">free_breakfast</i>Difficulty: {{recipe.difficulty}}</div>
                    </div>
                </div>
                <div class="d-flex flex-column">
                    <a href="{{url_for('edit_recipe', recipe_id=recipe._id)}}"
                        class="m-2 medium waves-effect waves-circle waves-red btn-floating secondary-content valign-wrapper">
                        <i class="large material-icons card_buttons">update</i>Edit
                    </a>
                    <a href="{{url_for('delete_recipe', recipe_id=recipe._id)}}"
                        class="m-2 medium waves-effect waves-circle waves-red btn-floating secondary-content valign-wrapper">
                        <i class="large material-icons card_buttons">delete_forever</i>Delete
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

</div>

{% endblock %}